version: "2.1"

#### 对应数据文件目录需要UID 1001权限
services:
  clickhouse:
    image: bitnami/clickhouse:22.8.8
    container_name: clickhouse
    restart: unless-stopped
    privileged: true
    environment:
      - TZ=${TZ}
      - CLICKHOUSE_ADMIN_USER=${CLICKHOUSE_ADMIN_USER}
      - CLICKHOUSE_ADMIN_PASSWORD=${CLICKHOUSE_ADMIN_PASSWORD}
    volumes:
      - ${DATA_PATH}/config/config.xml:/bitnami/clickhouse/etc/config.xml
      - ${DATA_PATH}/data:/bitnami/clickhouse/data
      - /etc/localtime:/etc/localtime:ro
    ports:
      - "${CLICKHOUSE_PORT}:9000"
      - "${CLICKHOUSE_REMOTE_PORT}:8123"